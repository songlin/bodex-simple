world:
  type: scene_cfg
  template_path: object/DGN_2k/scene_cfg/**/floating/*.npy
  start: 
  end: 

robot_file: "inspire_task_right.yml"
robot_file_with_arm: "g1_29dof_with_inspire_hand.yml"
base_cfg_file: "base_grasp.yml"
particle_file: "particle_grasp_debug.yml"
gradient_file: "gradient_grasp_fc.yml"

exp_name: 'inspire_right_debug'
seed_num: 20

seeder_cfg:
  obj_sample:
    num: 128
    inflate: 0.1
    convex_hull: True
    collision_free: True 
  ik_init_q:
  load_path: 
  skip_transfer: False
  t:  
  r:  
  # 6 DOF for Inspire Hand (thumb yaw, thumb pitch, index, middle, ring, pinky)
  q: [0.0, 0.3, 0.5, 0.5, 0.5, 0.5]
  # Jitter for sampling variety
  jitter_angle: [[-180, -15, -15], [180, 15, 15]]
  jitter_dist: [[0.0, -0.03, -0.03], [0.03, 0.03, 0.03]]

grasp_contact_strategy:
  # 5 contact points (all fingertips), sphere index 0 for each
  contact_points_name: 
    - R_thumb_distal/0
    - R_index_intermediate/0
    - R_middle_intermediate/0
    - R_ring_intermediate/0
    - R_pinky_intermediate/0
  
  opt_progress: [0.0, 0.6, 0.8]
  distance: [0.01, 0.01, 0.0]
  contact_query_mode: [-1, 0, 0]
  save_qpos: [False, True]
  max_ge_stage: 0

grasp_cfg:
  task_dict:
    f: [0, 0, 1]       # Force direction (downward gravity)
    p: [0, 0, 0]       # No external moment
    t: [0, 0, 0]       # No external torque
    gamma: 180         # Friction cone angle
  
  ge_param:
    type: 'qp'
    miu_coef: [0.1, 0]
    solver_type: 'batch_reluqp'
    k_lower: 0.2
    
    # Pressure constraints for 5-finger hand
    # Format: [[contact_id_list, lower_bound], ...]
    # lower_bound: minimum percentage of total wrench this group must provide
    pressure_constraints:
      # All 5 fingers together provide full wrench
      - [[0, 1, 2, 3, 4], 1.0]
      # Four fingers (non-thumb) provide at least 60%
      - [[1, 2, 3, 4], 0.6]
      # Thumb provides at least 35%
      - [[0], 0.35]
      # Middle+Ring provide at least 30% (strongest pair)
      - [[2, 3], 0.3]
      # Pinky provides at least 12% (weakest finger)
      - [[4], 0.12]
    
    enable_density: False
    solve_interval: 5

# Initial configuration: 6 DOF + 7 base pose (x,y,z,qw,qx,qy,qz) + padding
# Total 29 values to match Allegro's format
mogen_init: [
  # 6 joint angles
  0.0,    # Thumb yaw
  0.0,    # Thumb pitch
  0.0,    # Index
  0.0,    # Middle
  0.0,    # Ring
  0.0,    # Pinky
  # 7 base pose values (filled by solver)
  0, 0, 0, 0, 0, 0, 0,
  # Padding to match expected length
  0, 0, 0, 
]