world:
  type: scene_cfg
  template_path: object/DGN_2k/scene_cfg/**/floating/*.npy
  start: 
  end: 

robot_file: "dexmate_task_right.yml"
robot_file_with_arm: "vega1_with_dexmate.yml"
base_cfg_file: "base_grasp.yml"
particle_file: "particle_grasp_debug.yml"
gradient_file: "gradient_grasp_fc.yml"

exp_name: 'dexmate_debug'
seed_num: 20

seeder_cfg:
  obj_sample:
    num: 128
    inflate: 0.1
    convex_hull: True
    collision_free: True 
  ik_init_q:
  load_path: 
  skip_transfer: False
  t:  
  r:  
  # 6 DOF for Vega-1 Right Hand:
  # R_th_j0, R_th_j1, R_ff_j1, R_mf_j1, R_rf_j1, R_lf_j1
  # Note: R_th_j2, R_ff_j2, R_mf_j2, R_rf_j2, R_lf_j2 are mimic joints
  q: [0.5, 0.0, 0.0, 0.0, 0.0, 0.0]
  # Jitter for sampling variety
  jitter_angle: [[-180, -15, -15], [180, 15, 15]]
  jitter_dist: [[0.0, -0.03, -0.03], [0.03, 0.03, 0.03]]

grasp_contact_strategy:
  # 5 contact points (all fingertips), using intermediate links with sphere index 0
  contact_points_name: 
    - R_th_l2/0        # Thumb tip
    - R_ff_l2/0        # Index fingertip  
    - R_mf_l2/0        # Middle fingertip
    - R_rf_l2/0        # Ring fingertip
    - R_lf_l2/0        # Pinky fingertip
  
  opt_progress: [0.0, 0.6, 0.8]
  distance: [0.01, 0.01, 0.0]
  contact_query_mode: [-1, 0, 0]
  save_qpos: [False, True]
  max_ge_stage: 0

grasp_cfg:
  task_dict:
    f: [0, 0, 1]       # Force direction (downward gravity)
    p: [0, 0, 0]       # No external moment
    t: [0, 0, 0]       # No external torque
    gamma: 180         # Friction cone angle
  
  ge_param:
    type: 'qp'
    miu_coef: [0.1, 0]
    solver_type: 'batch_reluqp'
    k_lower: 0.2
    
    # Pressure constraints for 5-finger hand
    # Format: [[contact_id_list, lower_bound], ...]
    # lower_bound: minimum percentage of total wrench this group must provide
    pressure_constraints:
      # All 5 fingers together provide full wrench
      - [[0, 1, 2, 3, 4], 1.0]
      # Four fingers (non-thumb) provide at least 60%
      - [[1, 2, 3, 4], 0.6]
      # Thumb provides at least 30%
      - [[0], 0.30]
      # Middle+Ring provide at least 25% (strongest adjacent pair)
      - [[2, 3], 0.25]
      # Index provides at least 18% (strongest non-thumb finger)
      - [[1], 0.18]
      # Pinky provides at least 10% (weakest finger)
      - [[4], 0.10]
    
    enable_density: False
    solve_interval: 5

# Initial configuration: 6 DOF + 7 base pose (x,y,z,qw,qx,qy,qz) + padding
# Total matches expected format
mogen_init: [
  # 6 joint angles (independent joints only, mimics follow automatically)
  0.0,    # R_th_j0 (thumb yaw)
  0.0,    # R_th_j1 (thumb pitch)
  0.0,    # R_ff_j1 (index)
  0.0,    # R_mf_j1 (middle)
  0.0,    # R_rf_j1 (ring)
  0.0,    # R_lf_j1 (pinky)
  # 7 base pose values (filled by solver)
  0, 0, 0, 0, 0, 0, 0,
  # Padding to match expected length
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
]